# WeatherPhotoFrame
Pull weather data from Ambient Weather and display it along with a random photo on an android tablet. 

My Ambient WS-2000 sends data to AmbientWeather.net. Using a Raspberry PI, I grab that data once per minute. I also grab a random photo once per minute from a directory on the Raspberry PI. I combine those on a web page, which is then displayed on a cheap Android tablet.

A lot of the setup information can be found on the internet. I won't duplicate it here. This is a learning experience for me, so I am sure things could be done more efficiently, but this works for me.

I purchased and configured a Raspberry PI 4. Enabled WWW and FTP access. I also set up RealVNC. With this, I can remotely control the Raspberry PI from my desktop, and FTP files to and from it. The unit runs headless, with no display or keyboard, off in a corner. Again, the instructions for setting up a web page, FTP and VNC on a Raspberry PI, can be found through an internet search. On my local network I simply open the web page http:///192.168.1.123/PhotoFrame.html , to display my weather picture frame. A better option might be to use a monitor directly connected to the Raspberry PI, and eliminate the Android tablet. For various reasons I did not want to go that route since the Raspberry PI performs other tasks.

I have a script in the /home/PI directory called EveryMinute.sh, added to the cron table, that is set to run once a minute. For the photo frame, it grabs a random picture from the PhotoFrame directory, resizes it, and puts it into the /var/www/html directory. You may need to install the 'convert' app. This also uprights any portrait mode photos. I also shrink the photos, because the display resolution on the tablet isn't that good anyway, and the download speed is faster with the smaller file size. I could go even smaller, but this works well.
Also in that same once per minute script, it grabs a copy of the weather data from my WS-2000 weather station. That data was sent to and stored on the Ambient Weather site. This pulls my data off of their site. You need to generate an application key, and an api key on ambientweather.net, for your station, and add those where the XYZ is in the script. It then copies the latest data to the /var/www/html directory where the web page is.

There is a separate script in /home/pi called EveryHour.sh, added to the cron table, that runs once per hour. That script runs an app called rclone. That syncs the photos with my cloud drive (which is synced with my phone). So on my phone, I can take a photo, put a copy in the directory called 'PhotoFrame' on my phone. That gets synced from my phone to the cloud drive, and within an hour it will get copied to the Raspberry PI when this script runs. You can set up the cron table for the rate that you need. I found good instructions for setting up the cloud sync here: https://jarrodstech.net/how-to-raspberry-pi-onedrive-sync/  (this supports a lot of different cloud drives BTW)
The every hour script also makes a couple of copies of the current weather data. That is so I can get a rough idea of the rate of change.

Now I have a random photo and my current weather information, in the web page directory, /var/www/html. I installed an app called 
'Fully Kiosk Browser & App Lockdown' on a cheap android tablet. This auto starts on the tablet and opens the web page on the Raspberry PI. I called the web page 'PhotoFrame.html'. You can edit the html for your needs. You may want to edit the font sizes and such as they are set for my low resolution tablet. You will also need to edit the radar image for your location. Simply change the 'FFC' letters, to the region that you are interested in. Visit NOAA and their radar information for the location that you are interested in.
